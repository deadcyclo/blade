buildscript {
	repositories {
		mavenLocal()
		maven {
			url "https://repository.liferay.com/nexus/content/groups/liferay-ce/"
		}
		maven {
			url "https://repository.liferay.com/nexus/content/groups/public/"
		}
	}
	dependencies {
		classpath 'biz.aQute.bnd:biz.aQute.bnd.gradle:3.1.0'
		classpath 'com.liferay:com.liferay.ant.bnd:2.0.13'
	}
}

subprojects {
	buildscript {
		repositories {
			mavenCentral()
			maven {
				url "https://repository.liferay.com/nexus/content/groups/liferay-ce/"
			}
		}
	}

	apply plugin: 'biz.aQute.bnd.builder'
	sourceCompatibility = 1.7

	repositories {
		mavenCentral()
		maven {
			url "https://repository.liferay.com/nexus/content/groups/liferay-ce/"
		}
	}

	task deploy(dependsOn:build) {
		doLast {
			copy {
				from "build/libs"
				/*into "/storage/projects/liferay7/bundles/osgi/modules/"*/
				/*into "/home/brendan/work/liferay/test7/liferay-portal-7.0-ce-b8/osgi/modules"*/
				into "/home/brendan/work/liferay/source/bundles/osgi/modules/"
				include "*.jar"
			}
		}
	}

	version = '1.0.0'
}

task wrapper(type:Wrapper){
	gradleVersion = '2.9'
}
